# MedTrack - Há»‡ Thá»‘ng Quáº£n LÃ½ Chuá»—i Cung á»¨ng Thuá»‘c Blockchain

<div align="center">
  <img src="https://img.shields.io/badge/Sui-Blockchain-blue?style=for-the-badge&logo=sui" alt="Sui Blockchain"/>
  <img src="https://img.shields.io/badge/React-19.0.0-blue?style=for-the-badge&logo=react" alt="React"/>
  <img src="https://img.shields.io/badge/TypeScript-5.x-blue?style=for-the-badge&logo=typescript" alt="TypeScript"/>
  <img src="https://img.shields.io/badge/Tailwind_CSS-3.x-blue?style=for-the-badge&logo=tailwind-css" alt="Tailwind CSS"/>
  <img src="https://img.shields.io/badge/Move-Language-orange?style=for-the-badge" alt="Move Language"/>
</div>

## ğŸ“‹ Má»¥c Lá»¥c

- [ğŸ¯ Tá»•ng Quan](#-tá»•ng-quan)
- [âœ¨ TÃ­nh NÄƒng ChÃ­nh](#-tÃ­nh-nÄƒng-chÃ­nh)
- [ğŸ—ï¸ Kiáº¿n TrÃºc Há»‡ Thá»‘ng](#ï¸-kiáº¿n-trÃºc-há»‡-thá»‘ng)
- [ğŸš€ CÃ i Äáº·t & Cháº¡y](#-cÃ i-Ä‘áº·t--cháº¡y)
- [ğŸ“– HÆ°á»›ng Dáº«n Sá»­ Dá»¥ng](#-hÆ°á»›ng-dáº«n-sá»­-dá»¥ng)
- [ğŸ”§ PhÃ¡t Triá»ƒn](#-phÃ¡t-triá»ƒn)
- [ğŸ” Báº£o Máº­t](#-báº£o-máº­t)
- [ğŸ§ª Testing](#-testing)
- [ğŸ“š API Documentation](#-api-documentation)
- [ğŸ¤ ÄÃ³ng GÃ³p](#-Ä‘Ã³ng-gÃ³p)
- [ğŸ“„ License](#-license)

---

## ğŸ¯ Tá»•ng Quan

**MedTrack** lÃ  há»‡ thá»‘ng quáº£n lÃ½ chuá»—i cung á»©ng thuá»‘c tiÃªn tiáº¿n sá»­ dá»¥ng cÃ´ng nghá»‡ blockchain Sui, Ä‘áº£m báº£o tÃ­nh minh báº¡ch, báº£o máº­t vÃ  truy xuáº¥t nguá»“n gá»‘c 100% tá»« nhÃ  sáº£n xuáº¥t Ä‘áº¿n ngÆ°á»i tiÃªu dÃ¹ng.

### ğŸ¯ Má»¥c TiÃªu
- âœ… **Minh báº¡ch tuyá»‡t Ä‘á»‘i**: Má»i giao dá»‹ch Ä‘Æ°á»£c ghi trÃªn blockchain
- ğŸ”’ **Báº£o máº­t cao**: MÃ£ hÃ³a thÃ´ng tin nháº¡y cáº£m vá»›i TweetNaCl
- ğŸ” **Truy xuáº¥t tá»©c thá»i**: Tra cá»©u hÃ nh trÃ¬nh thuá»‘c chá»‰ vá»›i 1 click
- ğŸ“± **Tráº£i nghiá»‡m tá»‘i Æ°u**: Giao diá»‡n thÃ¢n thiá»‡n, responsive
- âš¡ **Hiá»‡u suáº¥t vÆ°á»£t trá»™i**: Sá»­ dá»¥ng Sui - blockchain nhanh nháº¥t

### ğŸ¯ Quy TrÃ¬nh Hoáº¡t Äá»™ng

```
ğŸ­ Producer â†’ ğŸšš Carrier â†’ ğŸ¥ Pharmacy â†’ ğŸ‘¥ Consumer
     â†“         â†“         â†“         â†“
  Táº¡o Ä‘Æ¡n   Cáº­p nháº­t   Nháº­n hÃ ng  Tra cá»©u
  hÃ ng      váº­n chuyá»ƒn  hoÃ n táº¥t   hÃ nh trÃ¬nh
```

---

## âœ¨ TÃ­nh NÄƒng ChÃ­nh

### ğŸ­ NhÃ  Sáº£n Xuáº¥t (Producer)
- **Táº¡o Ä‘Æ¡n hÃ ng** vá»›i mÃ£ hÃ³a thÃ´ng tin nháº¡y cáº£m
- **MÃ£ thuá»‘c chuáº©n**: `PTS-2025-12` (Paracetamol-2025-thÃ¡ng 12)
- **Báº£o máº­t tá»‘i Ä‘a**: Äá»‹a chá»‰ & sá»‘ Ä‘iá»‡n thoáº¡i Ä‘Æ°á»£c mÃ£ hÃ³a
- **Real-time tracking**: Theo dÃµi tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng

### ğŸšš ÄÆ¡n Vá»‹ Váº­n Chuyá»ƒn (Carrier)
- **Key pair generation**: Táº¡o cáº·p khÃ³a cÃ´ng khai/bÃ­ máº­t tá»± Ä‘á»™ng
- **Giáº£i mÃ£ thÃ´ng tin**: Truy cáº­p Ä‘á»‹a chá»‰ giao hÃ ng an toÃ n
- **Location tracking**: Cáº­p nháº­t vá»‹ trÃ­ váº­n chuyá»ƒn real-time
- **Status updates**: ThÃ´ng bÃ¡o tráº¡ng thÃ¡i cho táº¥t cáº£ bÃªn liÃªn quan

### ğŸ¥ NhÃ  Thuá»‘c (Pharmacy)
- **Nháº­n hÃ ng tá»©c thÃ¬**: XÃ¡c nháº­n nháº­n hÃ ng vá»›i 1 click
- **ThÃ´ng tin Ä‘áº§y Ä‘á»§**: LÆ°u trá»¯ tÃªn nhÃ  thuá»‘c & thÃ´ng tin liÃªn há»‡
- **Delivery confirmation**: HoÃ n táº¥t chuá»—i cung á»©ng
- **Inventory management**: TÃ­ch há»£p quáº£n lÃ½ tá»“n kho

### ğŸ” Tra Cá»©u HÃ nh TrÃ¬nh (Tracking)
- **Batch ID lookup**: TÃ¬m kiáº¿m nhanh chÃ³ng theo ID lÃ´ thuá»‘c
- **Visual timeline**: Hiá»ƒn thá»‹ hÃ nh trÃ¬nh vá»›i giao diá»‡n trá»±c quan
- **Contact information**: ThÃ´ng tin liÃªn há»‡ táº¡i má»—i bÆ°á»›c
- **QR Code support**: QuÃ©t mÃ£ Ä‘á»ƒ tra cá»©u nhanh

---

## ğŸ—ï¸ Kiáº¿n TrÃºc Há»‡ Thá»‘ng

### ğŸ“ Cáº¥u TrÃºc Dá»± Ãn

```
MedTrack/
â”œâ”€â”€ medtrack/                    # ğŸ—ï¸ Smart Contract (Move)
â”‚   â”œâ”€â”€ sources/
â”‚   â”‚   â””â”€â”€ supply_chain.move    # Logic chÃ­nh cá»§a há»‡ thá»‘ng
â”‚   â”œâ”€â”€ tests/                   # ğŸ§ª Unit tests
â”‚   â”œâ”€â”€ Move.toml               # âš™ï¸ Dependencies & config
â”‚   â””â”€â”€ Move.lock               # ğŸ”’ Lock file
â”‚
â”œâ”€â”€ medtrack-fe/                 # ğŸ¨ Frontend (React + TypeScript)
â”‚   â”œâ”€â”€ public/                  # ğŸ“ Static assets
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/          # ğŸ§© Reusable components
â”‚   â”‚   â”œâ”€â”€ pages/               # ğŸ“„ Main pages
â”‚   â”‚   â”‚   â”œâ”€â”€ ProducerPage.tsx # ğŸ­ Trang nhÃ  sáº£n xuáº¥t
â”‚   â”‚   â”‚   â”œâ”€â”€ CarrierPage.tsx  # ğŸšš Trang váº­n chuyá»ƒn
â”‚   â”‚   â”‚   â”œâ”€â”€ PharmacyPage.tsx # ğŸ¥ Trang nhÃ  thuá»‘c
â”‚   â”‚   â”‚   â””â”€â”€ TrackingPage.tsx # ğŸ” Trang tra cá»©u
â”‚   â”‚   â”œâ”€â”€ utils/               # ğŸ› ï¸ Utilities
â”‚   â”‚   â”œâ”€â”€ constants.ts         # âš™ï¸ App configuration
â”‚   â”‚   â”œâ”€â”€ App.tsx             # ğŸ¯ Main app component
â”‚   â”‚   â””â”€â”€ main.tsx            # ğŸš€ Entry point
â”‚   â”œâ”€â”€ package.json            # ğŸ“¦ Dependencies
â”‚   â”œâ”€â”€ tailwind.config.ts      # ğŸ¨ Styling config
â”‚   â”œâ”€â”€ vite.config.ts          # âš¡ Build config
â”‚   â””â”€â”€ tsconfig.json           # ğŸ“ TypeScript config
â”‚
â”œâ”€â”€ .git/                       # ğŸ“š Version control
â”œâ”€â”€ README.md                   # ğŸ“– This file
â”œâ”€â”€ USER_FLOW.md                # ğŸ‘¥ User flow documentation
â””â”€â”€ README_COMPLETE.md          # ğŸ“š Detailed documentation
```

### ğŸ”„ Luá»“ng Dá»¯ Liá»‡u

```mermaid
graph TB
    A[ğŸ­ Producer] --> B[ğŸ” Encrypt Data]
    B --> C[ğŸ“¦ Create Batch]
    C --> D[â›“ï¸ Store on Sui]

    E[ğŸšš Carrier] --> F[ğŸ”“ Decrypt Data]
    F --> G[ğŸš› Update Shipping]
    G --> D

    H[ğŸ¥ Pharmacy] --> I[âœ… Confirm Delivery]
    I --> D

    J[ğŸ‘¥ Consumer] --> K[ğŸ” Query Batch]
    K --> L[ğŸ“Š Display Timeline]
    D --> L
```

### ğŸ’» CÃ´ng Nghá»‡ Sá»­ Dá»¥ng

#### ğŸ¨ Frontend Stack
- **React 19** - Latest React with modern features
- **TypeScript** - Type-safe development
- **Tailwind CSS** - Utility-first CSS framework
- **Sui dApp Kit** - Official Sui blockchain integration
- **Vite** - Lightning-fast build tool & dev server
- **React Router** - Client-side routing

#### â›“ï¸ Blockchain Stack
- **Sui Network** - High-performance Layer 1 blockchain
- **Move Language** - Resource-oriented programming language
- **Sui CLI** - Development & deployment tools
- **TweetNaCl** - Cryptographic operations

#### ğŸ” Security & Validation
- **Wallet Authorization** - Whitelist-based access control
- **Input Sanitization** - Comprehensive validation
- **Cryptographic Security** - End-to-end encryption
- **Audit Trail** - Complete transaction history

---

## ğŸš€ CÃ i Äáº·t & Cháº¡y

### ğŸ“‹ YÃªu Cáº§u Há»‡ Thá»‘ng

- **Node.js**: 18.0.0 hoáº·c cao hÆ¡n
- **Sui CLI**: Latest version
- **Git**: For version control
- **Browser**: Chrome/Firefox vá»›i Sui Wallet extension

### âš¡ Cháº¡y Nhanh (Quick Start)

```bash
# 1. Clone repository
git clone <repository-url>
cd MedTrack

# 2. CÃ i Ä‘áº·t dependencies cho frontend
cd medtrack-fe
npm install

# 3. Cháº¡y development server
npm run dev

# 4. Má»Ÿ browser vÃ  truy cáº­p
# http://localhost:5173/
```

### ğŸ—ï¸ Setup Chi Tiáº¿t

#### Backend (Smart Contract)
```bash
# 1. Build smart contract
cd medtrack
sui move build

# 2. Deploy to testnet
sui client publish --gas-budget 200000000

# 3. Update PACKAGE_ID trong constants.ts
```

#### Frontend
```bash
# 1. Install dependencies
cd medtrack-fe
npm install

# 2. Start development server
npm run dev

# 3. Build for production
npm run build
```

### ğŸ”§ Environment Configuration

Táº¡o file `.env.local` trong thÆ° má»¥c `medtrack-fe/`:

```env
# Network configuration
VITE_NETWORK=testnet

# Smart contract addresses
VITE_PACKAGE_ID=0xb7041c6d6d14f8dafeebc61604643ea031a06540a0201bc864835bae28980ccb
VITE_MODULE_NAME=supply_chain

# Feature flags
VITE_ENABLE_DEBUG=true
```

---

## ğŸ“– HÆ°á»›ng Dáº«n Sá»­ Dá»¥ng

### ğŸ”‘ Chuáº©n Bá»‹ Ban Äáº§u

1. **CÃ i Ä‘áº·t Sui Wallet**
   - Táº£i Sui Wallet extension
   - Táº¡o hoáº·c import vÃ­
   - Äáº£m báº£o cÃ³ Ä‘á»§ SUI testnet

2. **Káº¿t ná»‘i á»©ng dá»¥ng**
   - Truy cáº­p http://localhost:5173/
   - Click "Connect Wallet"
   - Chá»n vÃ­ vÃ  approve

3. **Kiá»ƒm tra á»§y quyá»n**
   - Äá»‹a chá»‰ vÃ­ pháº£i cÃ³ trong danh sÃ¡ch cho phÃ©p
   - LiÃªn há»‡ admin náº¿u chÆ°a Ä‘Æ°á»£c á»§y quyá»n

### ğŸ­ Quy TrÃ¬nh Táº¡o ÄÆ¡n HÃ ng

#### BÆ°á»›c 1: Truy cáº­p Producer Page
```
URL: http://localhost:5173/#/producer
```

#### BÆ°á»›c 2: Nháº­n Public Key tá»« Carrier
- Carrier táº¡o key pair vÃ  gá»­i Public Key
- Producer paste Public Key vÃ o form

#### BÆ°á»›c 3: Äiá»n thÃ´ng tin
- **MÃ£ thuá»‘c**: `PTS-2025-12`
- **TÃªn cÃ´ng ty**: `CÃ´ng ty DÆ°á»£c pháº©m ABC`
- **Sá»‘ Ä‘iá»‡n thoáº¡i**: `0896739545`
- **CÃ´ng ty nháº­n**: `NhÃ  thuá»‘c XYZ`
- **Äá»‹a chá»‰ giao**: `123 ÄÆ°á»ng ABC, PhÆ°á»ng DEF...`
- **Sá»‘ Ä‘iá»‡n thoáº¡i nháº­n**: `0987654321`

#### BÆ°á»›c 4: Táº¡o Ä‘Æ¡n hÃ ng
- Click "ğŸ”’ MÃ£ hÃ³a & Gá»­i lÃªn Blockchain"
- Approve transaction trong vÃ­
- Nháº­n Batch ID

### ğŸšš Quy TrÃ¬nh Váº­n Chuyá»ƒn

#### BÆ°á»›c 1: Táº¡o Key Pair
```
URL: http://localhost:5173/#/carrier
```
- Click "ğŸ†• Táº¡o Cáº·p KhÃ³a Má»›i"
- **Quan trá»ng**: LÆ°u Private Key vÃ o nÆ¡i an toÃ n
- Copy Public Key gá»­i cho Producer

#### BÆ°á»›c 2: Nháº­n Ä‘Æ¡n hÃ ng
- Nháº­n Batch ID tá»« Producer
- Paste vÃ o form vÃ  giáº£i mÃ£

#### BÆ°á»›c 3: Cáº­p nháº­t váº­n chuyá»ƒn
- Äiá»n thÃ´ng tin váº­n chuyá»ƒn
- Click "ğŸ“¦ XÃ¡c Nháº­n Äang Giao HÃ ng"

### ğŸ¥ Quy TrÃ¬nh Nháº­n HÃ ng

#### BÆ°á»›c 1: Truy cáº­p Pharmacy Page
```
URL: http://localhost:5173/#/pharmacy
```

#### BÆ°á»›c 2: XÃ¡c nháº­n nháº­n hÃ ng
- **Batch ID**: Tá»« Producer/Carrier
- **TÃªn nhÃ  thuá»‘c**: `NhÃ  thuá»‘c ABC`
- **Sá»‘ Ä‘iá»‡n thoáº¡i**: `0987654321`

#### BÆ°á»›c 3: HoÃ n táº¥t
- Click "âœ… XÃ¡c nháº­n Ä‘Ã£ nháº­n Ä‘Æ¡n hÃ ng"

### ğŸ” Tra Cá»©u HÃ nh TrÃ¬nh

#### BÆ°á»›c 1: Truy cáº­p Tracking Page
```
URL: http://localhost:5173/#/tracking
```

#### BÆ°á»›c 2: TÃ¬m kiáº¿m
- Paste Batch ID
- Click "ğŸ” TÃ¬m"

#### BÆ°á»›c 3: Xem káº¿t quáº£
- Timeline Ä‘áº§y Ä‘á»§ cá»§a lÃ´ thuá»‘c
- ThÃ´ng tin liÃªn há»‡ táº¡i má»—i bÆ°á»›c
- Tráº¡ng thÃ¡i hiá»‡n táº¡i

---

## ğŸ”§ PhÃ¡t Triá»ƒn

### ğŸ—ï¸ Development Workflow

```bash
# 1. Setup development environment
npm install

# 2. Start development server with hot reload
npm run dev

# 3. Run linting
npm run lint

# 4. Build for production
npm run build

# 5. Preview production build
npm run preview
```

### ğŸ“ Available Scripts

```json
{
  "scripts": {
    "dev": "vite",                    // Development server
    "build": "tsc && vite build",     // Production build
    "lint": "eslint . --ext ts,tsx",  // Code linting
    "preview": "vite preview",        // Preview production build
    "type-check": "tsc --noEmit"      // Type checking
  }
}
```

### ğŸ”„ Smart Contract Development

```bash
# Build contract
cd medtrack
sui move build

# Run tests
sui move test

# Publish to testnet
sui client publish --gas-budget 200000000

# Verify deployment
sui client object <PACKAGE_ID>
```

### ğŸ§© Component Structure

```
src/
â”œâ”€â”€ components/          # Reusable UI components
â”œâ”€â”€ pages/              # Page components
â”œâ”€â”€ utils/              # Helper functions
â”œâ”€â”€ constants.ts        # Configuration
â”œâ”€â”€ App.tsx            # Main app
â””â”€â”€ main.tsx           # Entry point
```

---

## ğŸ” Báº£o Máº­t

### ğŸ‘› Wallet Authorization

Chá»‰ cÃ¡c vÃ­ Ä‘Æ°á»£c liá»‡t kÃª má»›i Ä‘Æ°á»£c phÃ©p sá»­ dá»¥ng:

```typescript
export const ALLOWED_WALLETS = [
  "0x915342dba62fb2dceb7405a22fe19e0e3627bedbe9bca822c0b3464546e312b3", // Admin
  "0x90eb4ce69bf7fc934f8e8bd688d2da7bc8916a8a30358bb568aa6087efe89a50", // Authorized
];
```

### ğŸ”’ MÃ£ HÃ³a Dá»¯ Liá»‡u

- **Thuáº­t toÃ¡n**: TweetNaCl (X25519 key exchange)
- **ThÃ´ng tin nháº¡y cáº£m**: Äá»‹a chá»‰ giao hÃ ng, sá»‘ Ä‘iá»‡n thoáº¡i
- **Truy cáº­p**: Chá»‰ Carrier vá»›i Private Key má»›i giáº£i mÃ£

### âœ… Validation Rules

- **MÃ£ thuá»‘c**: Regex `^[A-Za-z]{2,4}-\d{4}-\d{2}$`
- **Sá»‘ Ä‘iá»‡n thoáº¡i**: Format Viá»‡t Nam `0xxxxxxxxx` hoáº·c `+84xxxxxxxxx`
- **Batch ID**: Hex format `0x[64 kÃ½ tá»± hex]`
- **Äá»‹a chá»‰**: Ãt nháº¥t 10 kÃ½ tá»±, Ä‘áº§y Ä‘á»§ thÃ´ng tin

---

## ğŸ§ª Testing

### ğŸƒâ€â™‚ï¸ Cháº¡y Tests

```bash
# Frontend tests
cd medtrack-fe
npm test

# Smart contract tests
cd medtrack
sui move test
```

### ğŸ§ª Test Coverage

- **Unit Tests**: Component logic
- **Integration Tests**: Blockchain interactions
- **E2E Tests**: Complete user workflows
- **Security Tests**: Authorization & encryption

---

## ğŸ“š API Documentation

### ğŸ¯ Smart Contract Functions

#### `create_record`
```move
entry fun create_record(
    medicine_code: String,
    manufacturer: String,
    producer_phone: String,
    receiver_company: String,
    info: String,
    clock: &Clock,
    ctx: &mut TxContext
)
```

#### `update_record_shipping`
```move
entry fun update_record_shipping(
    batch: &mut MedicineBatch,
    carrier_name: String,
    carrier_phone: String,
    delivery_location: String,
    clock: &Clock,
    ctx: &mut TxContext
)
```

#### `complete_record_delivery`
```move
entry fun complete_record_delivery(
    batch: &mut MedicineBatch,
    pharmacy_name: String,
    pharmacy_phone: String,
    pharmacy_location: String,
    clock: &Clock,
    ctx: &mut TxContext
)
```

### ğŸ“Š Data Structures

#### `MedicineBatch`
```move
public struct MedicineBatch has key {
    id: UID,
    medicine_code: String,
    current_status: u8,
    history: vector<ID>,
}
```

#### `StatusRecord`
```move
public struct StatusRecord has key {
    id: UID,
    batch_id: ID,
    status: u8,
    actor: address,
    location_info: String,
    phone: String,
    timestamp: u64,
    note: String
}
```

---

## ğŸ¤ ÄÃ³ng GÃ³p

ChÃºng tÃ´i hoan nghÃªnh má»i Ä‘Ã³ng gÃ³p! Vui lÃ²ng Ä‘á»c [CONTRIBUTING.md](CONTRIBUTING.md) Ä‘á»ƒ biáº¿t chi tiáº¿t.

### ğŸ“‹ Development Process

1. **Fork** repository
2. **Create** feature branch (`git checkout -b feature/AmazingFeature`)
3. **Commit** changes (`git commit -m 'Add some AmazingFeature'`)
4. **Push** to branch (`git push origin feature/AmazingFeature`)
5. **Open** Pull Request

### ğŸ› Bug Reports & Feature Requests

- **Issues**: [GitHub Issues](https://github.com/your-repo/issues)
- **Discussions**: [GitHub Discussions](https://github.com/your-repo/discussions)
- **Email**: contact@medtrack.dev

---

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## ğŸ™ Acknowledgments

- **Sui Foundation** - For the amazing blockchain infrastructure
- **Move Language** - For the secure smart contract language
- **React Community** - For the excellent frontend framework
- **Open Source Community** - For the countless tools and libraries

---

<div align="center">

**ğŸ‰ MedTrack - NÃ¢ng Táº§m An ToÃ n Thuá»‘c Cho TÆ°Æ¡ng Lai!**

*Built with â¤ï¸ for a safer pharmaceutical supply chain*

---

*Last updated: December 2025*  
*Version: 1.0.0*

</div>
